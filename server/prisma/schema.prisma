generator client { provider = "prisma-client-js" }

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Order {
  id                 String   @id @default(cuid())
  createdAt          DateTime @default(now())
  name               String
  phone              String
  location           String
  doctorRecommended  Boolean  @default(false)
  total              Decimal  @db.Decimal(10, 2)
  items              OrderItem[]
}

model OrderItem {
  id        String  @id @default(cuid())
  orderId   String
  medId     Int?
  name      String
  price     Decimal @db.Decimal(10, 2)
  qty       Int
  order     Order   @relation(fields: [orderId], references: [id], onDelete: Cascade)

  @@index([orderId])
}